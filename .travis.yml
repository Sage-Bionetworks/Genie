sudo: required
language: python
script:
  - python setup.py install
  - pytest -vs tests/unit
  - Rscript tests/unit/test_flag_variants.R

before_install:
  - sudo apt-get install -y bedtools gzip
  - sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
  - sudo add-apt-repository 'deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu trusty/'
  - sudo apt-get update
  - sudo apt-get install r-base
  - sudo R -e "install.packages('BiocManager', repos='http://cran.rstudio.com/')"
  - sudo R -e "BiocManager::install('VariantAnnotation')"
  - pip install pandas synapseclient pycrypto

matrix:
  include:
    - os: linux
      python: 2.7.14
    - os: linux
      python: 3.5.3
    - os: linux
      python: 3.6.2
    # - os: osx
    #   language: generic
    #   env: PY_VERSION=2.7.14
    # - os: osx
    #   language: generic
    #   env: PY_VERSION=3.5.3
    # - os: osx
    #   language: generic
    #   env: PY_VERSION=3.6.2